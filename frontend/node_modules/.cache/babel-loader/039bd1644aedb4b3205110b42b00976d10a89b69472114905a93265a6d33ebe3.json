{"ast":null,"code":"import _regeneratorRuntime from \"E:/GoLand20240404/Project/student_management/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"E:/GoLand20240404/Project/student_management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { ref, reactive } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'Login',\n  setup: function setup() {\n    var store = useStore();\n    var router = useRouter();\n    var formRef = ref(null);\n    var loginForm = reactive({\n      username: '',\n      password: ''\n    });\n    var loading = ref(false);\n    var error = ref('');\n\n    // Form validation rules\n    var rules = {\n      username: [{\n        required: true,\n        message: 'Please enter your username',\n        trigger: 'blur'\n      }],\n      password: [{\n        required: true,\n        message: 'Please enter your password',\n        trigger: 'blur'\n      }]\n    };\n\n    // Handle login form submission\n    var handleLogin = function handleLogin() {\n      formRef.value.validate(/*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(valid) {\n          var _err$response;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if (valid) {\n                  _context.next = 2;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 2:\n                loading.value = true;\n                error.value = '';\n                _context.prev = 4;\n                _context.next = 7;\n                return store.dispatch('auth/login', loginForm);\n              case 7:\n                router.push('/dashboard');\n                _context.next = 13;\n                break;\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](4);\n                error.value = ((_err$response = _context.t0.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || 'Login failed. Please check your credentials.';\n              case 13:\n                _context.prev = 13;\n                loading.value = false;\n                return _context.finish(13);\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, null, [[4, 10, 13, 16]]);\n        }));\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    };\n    return {\n      formRef: formRef,\n      loginForm: loginForm,\n      loading: loading,\n      error: error,\n      rules: rules,\n      handleLogin: handleLogin\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","useStore","useRouter","name","setup","store","router","formRef","loginForm","username","password","loading","error","rules","required","message","trigger","handleLogin","value","validate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","valid","_err$response","wrap","_callee$","_context","prev","next","abrupt","dispatch","push","t0","response","data","finish","stop","_x","apply","arguments"],"sources":["E:\\GoLand20240404\\Project\\student_management\\frontend\\src\\views\\auth\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-form\">\r\n      <h1 class=\"login-title\">Student Management System</h1>\r\n      \r\n      <el-alert\r\n        v-if=\"error\"\r\n        :title=\"error\"\r\n        type=\"error\"\r\n        show-icon\r\n        @close=\"error = ''\"\r\n        class=\"mb-20\"\r\n      />\r\n      \r\n      <el-form\r\n        ref=\"formRef\"\r\n        :model=\"loginForm\"\r\n        :rules=\"rules\"\r\n        label-position=\"top\"\r\n      >\r\n        <el-form-item label=\"Username\" prop=\"username\">\r\n          <el-input\r\n            v-model=\"loginForm.username\"\r\n            placeholder=\"Enter your username\"\r\n            prefix-icon=\"el-icon-user\"\r\n            clearable\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"Password\" prop=\"password\">\r\n          <el-input\r\n            v-model=\"loginForm.password\"\r\n            type=\"password\"\r\n            placeholder=\"Enter your password\"\r\n            prefix-icon=\"el-icon-lock\"\r\n            show-password\r\n            @keyup.enter=\"handleLogin\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            class=\"full-width\"\r\n            :loading=\"loading\"\r\n            @click=\"handleLogin\"\r\n          >\r\n            Login\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      \r\n      <p class=\"text-center mt-20\">\r\n        Default admin credentials: admin / admin123\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const formRef = ref(null)\r\n    const loginForm = reactive({\r\n      username: '',\r\n      password: ''\r\n    })\r\n    const loading = ref(false)\r\n    const error = ref('')\r\n    \r\n    // Form validation rules\r\n    const rules = {\r\n      username: [\r\n        { required: true, message: 'Please enter your username', trigger: 'blur' }\r\n      ],\r\n      password: [\r\n        { required: true, message: 'Please enter your password', trigger: 'blur' }\r\n      ]\r\n    }\r\n    \r\n    // Handle login form submission\r\n    const handleLogin = () => {\r\n      formRef.value.validate(async valid => {\r\n        if (!valid) return\r\n        \r\n        loading.value = true\r\n        error.value = ''\r\n        \r\n        try {\r\n          await store.dispatch('auth/login', loginForm)\r\n          router.push('/dashboard')\r\n        } catch (err) {\r\n          error.value = err.response?.data || 'Login failed. Please check your credentials.'\r\n        } finally {\r\n          loading.value = false\r\n        }\r\n      })\r\n    }\r\n    \r\n    return {\r\n      formRef,\r\n      loginForm,\r\n      loading,\r\n      error,\r\n      rules,\r\n      handleLogin\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Component specific styles would go here */\r\n/* Most styling comes from global CSS in assets/styles/main.css */\r\n</style> "],"mappings":";;;AA4DA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAI;AAClC,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAQ,QAAS,YAAW;AAErC,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,KAAK,WAALA,KAAKA,CAAA,EAAG;IACN,IAAMC,KAAI,GAAIJ,QAAQ,CAAC;IACvB,IAAMK,MAAK,GAAIJ,SAAS,CAAC;IACzB,IAAMK,OAAM,GAAIR,GAAG,CAAC,IAAI;IACxB,IAAMS,SAAQ,GAAIR,QAAQ,CAAC;MACzBS,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;IACZ,CAAC;IACD,IAAMC,OAAM,GAAIZ,GAAG,CAAC,KAAK;IACzB,IAAMa,KAAI,GAAIb,GAAG,CAAC,EAAE;;IAEpB;IACA,IAAMc,KAAI,GAAI;MACZJ,QAAQ,EAAE,CACR;QAAEK,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,4BAA4B;QAAEC,OAAO,EAAE;MAAO,EAC1E;MACDN,QAAQ,EAAE,CACR;QAAEI,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,4BAA4B;QAAEC,OAAO,EAAE;MAAO;IAE7E;;IAEA;IACA,IAAMC,WAAU,GAAI,SAAdA,WAAUA,CAAA,EAAU;MACxBV,OAAO,CAACW,KAAK,CAACC,QAAQ;QAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAMC,KAAI;UAAA,IAAAC,aAAA;UAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAAA,IAC1BN,KAAK;kBAAAI,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAAA,OAAAF,QAAA,CAAAG,MAAA;cAAA;gBAEVrB,OAAO,CAACO,KAAI,GAAI,IAAG;gBACnBN,KAAK,CAACM,KAAI,GAAI,EAAC;gBAAAW,QAAA,CAAAC,IAAA;gBAAAD,QAAA,CAAAE,IAAA;gBAAA,OAGP1B,KAAK,CAAC4B,QAAQ,CAAC,YAAY,EAAEzB,SAAS;cAAA;gBAC5CF,MAAM,CAAC4B,IAAI,CAAC,YAAY;gBAAAL,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAAAF,QAAA,CAAAC,IAAA;gBAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;gBAExBjB,KAAK,CAACM,KAAI,GAAI,EAAAQ,aAAA,GAAAG,QAAA,CAAAM,EAAA,CAAIC,QAAQ,cAAAV,aAAA,uBAAZA,aAAA,CAAcW,IAAG,KAAK,8CAA6C;cAAA;gBAAAR,QAAA,CAAAC,IAAA;gBAEjFnB,OAAO,CAACO,KAAI,GAAI,KAAI;gBAAA,OAAAW,QAAA,CAAAS,MAAA;cAAA;cAAA;gBAAA,OAAAT,QAAA,CAAAU,IAAA;YAAA;UAAA,GAAAf,OAAA;QAAA,CAEvB;QAAA,iBAAAgB,EAAA;UAAA,OAAApB,IAAA,CAAAqB,KAAA,OAAAC,SAAA;QAAA;MAAA;IACH;IAEA,OAAO;MACLnC,OAAO,EAAPA,OAAO;MACPC,SAAS,EAATA,SAAS;MACTG,OAAO,EAAPA,OAAO;MACPC,KAAK,EAALA,KAAK;MACLC,KAAK,EAALA,KAAK;MACLI,WAAU,EAAVA;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}