{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, withCtx as _withCtx, withKeys as _withKeys, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"login-container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"login-form\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_alert = _resolveComponent(\"el-alert\");\n  var _component_el_input = _resolveComponent(\"el-input\");\n  var _component_el_form_item = _resolveComponent(\"el-form-item\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_form = _resolveComponent(\"el-form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"h1\", {\n    \"class\": \"login-title\"\n  }, \"学生管理系统\", -1 /* HOISTED */)), $setup.error ? (_openBlock(), _createBlock(_component_el_alert, {\n    key: 0,\n    title: $setup.error,\n    type: \"error\",\n    \"show-icon\": \"\",\n    onClose: _cache[0] || (_cache[0] = function ($event) {\n      return $setup.error = '';\n    }),\n    \"class\": \"mb-20\"\n  }, null, 8 /* PROPS */, [\"title\"])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_form, {\n    ref: \"formRef\",\n    model: $setup.loginForm,\n    rules: $setup.rules,\n    \"label-position\": \"top\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_form_item, {\n        label: \"用户名\",\n        prop: \"username\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_input, {\n            modelValue: $setup.loginForm.username,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n              return $setup.loginForm.username = $event;\n            }),\n            placeholder: \"请输入用户名\",\n            \"prefix-icon\": \"el-icon-user\",\n            clearable: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"密码\",\n        prop: \"password\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_input, {\n            modelValue: $setup.loginForm.password,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n              return $setup.loginForm.password = $event;\n            }),\n            type: \"password\",\n            placeholder: \"请输入密码\",\n            \"prefix-icon\": \"el-icon-lock\",\n            \"show-password\": \"\",\n            onKeyup: _withKeys($setup.handleLogin, [\"enter\"])\n          }, null, 8 /* PROPS */, [\"modelValue\", \"onKeyup\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_button, {\n            type: \"primary\",\n            \"class\": \"full-width\",\n            loading: $setup.loading,\n            onClick: $setup.handleLogin\n          }, {\n            \"default\": _withCtx(function () {\n              return _cache[3] || (_cache[3] = [_createTextVNode(\" 登录 \")]);\n            }),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"loading\", \"onClick\"])];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\", \"rules\"]), _cache[5] || (_cache[5] = _createElementVNode(\"p\", {\n    \"class\": \"text-center mt-20\"\n  }, \" 默认管理员账号：admin / admin123 \", -1 /* HOISTED */))])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$setup","error","_createBlock","_component_el_alert","key","title","type","onClose","_cache","$event","_createCommentVNode","_createVNode","_component_el_form","ref","model","loginForm","rules","_withCtx","_component_el_form_item","label","prop","_component_el_input","modelValue","username","placeholder","clearable","_","password","onKeyup","_withKeys","handleLogin","_component_el_button","loading","onClick","_createTextVNode"],"sources":["E:\\GoLand20240404\\Project\\student_management\\frontend\\src\\views\\auth\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-form\">\r\n      <h1 class=\"login-title\">学生管理系统</h1>\r\n      \r\n      <el-alert\r\n        v-if=\"error\"\r\n        :title=\"error\"\r\n        type=\"error\"\r\n        show-icon\r\n        @close=\"error = ''\"\r\n        class=\"mb-20\"\r\n      />\r\n      \r\n      <el-form\r\n        ref=\"formRef\"\r\n        :model=\"loginForm\"\r\n        :rules=\"rules\"\r\n        label-position=\"top\"\r\n      >\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input\r\n            v-model=\"loginForm.username\"\r\n            placeholder=\"请输入用户名\"\r\n            prefix-icon=\"el-icon-user\"\r\n            clearable\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input\r\n            v-model=\"loginForm.password\"\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n            prefix-icon=\"el-icon-lock\"\r\n            show-password\r\n            @keyup.enter=\"handleLogin\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            class=\"full-width\"\r\n            :loading=\"loading\"\r\n            @click=\"handleLogin\"\r\n          >\r\n            登录\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      \r\n      <p class=\"text-center mt-20\">\r\n        默认管理员账号：admin / admin123\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const formRef = ref(null)\r\n    const loginForm = reactive({\r\n      username: '',\r\n      password: ''\r\n    })\r\n    const loading = ref(false)\r\n    const error = ref('')\r\n    \r\n    // Form validation rules\r\n    const rules = {\r\n      username: [\r\n        { required: true, message: 'Please enter your username', trigger: 'blur' }\r\n      ],\r\n      password: [\r\n        { required: true, message: 'Please enter your password', trigger: 'blur' }\r\n      ]\r\n    }\r\n    \r\n    // Handle login form submission\r\n    const handleLogin = () => {\r\n      formRef.value.validate(async valid => {\r\n        if (!valid) return\r\n        \r\n        loading.value = true\r\n        error.value = ''\r\n        \r\n        try {\r\n          await store.dispatch('auth/login', loginForm)\r\n          router.push('/dashboard')\r\n        } catch (err) {\r\n          error.value = err.response?.data || 'Login failed. Please check your credentials.'\r\n        } finally {\r\n          loading.value = false\r\n        }\r\n      })\r\n    }\r\n    \r\n    return {\r\n      formRef,\r\n      loginForm,\r\n      loading,\r\n      error,\r\n      rules,\r\n      handleLogin\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Component specific styles would go here */\r\n/* Most styling comes from global CSS in assets/styles/main.css */\r\n</style> "],"mappings":";;EACO,SAAM;AAAiB;;EACrB,SAAM;AAAY;;;;;;;uBADzBA,mBAAA,CAuDM,OAvDNC,UAuDM,GAtDJC,mBAAA,CAqDM,OArDNC,UAqDM,G,0BApDJD,mBAAA,CAAmC;IAA/B,SAAM;EAAa,GAAC,QAAM,sBAGtBE,MAAA,CAAAC,KAAK,I,cADbC,YAAA,CAOEC,mBAAA;IAZRC,GAAA;IAOSC,KAAK,EAAEL,MAAA,CAAAC,KAAK;IACbK,IAAI,EAAC,OAAO;IACZ,WAAS,EAAT,EAAS;IACRC,OAAK,EAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAET,MAAA,CAAAC,KAAK;IAAA;IACb,SAAM;wCAXdS,mBAAA,gBAcMC,YAAA,CAoCUC,kBAAA;IAnCRC,GAAG,EAAC,SAAS;IACZC,KAAK,EAAEd,MAAA,CAAAe,SAAS;IAChBC,KAAK,EAAEhB,MAAA,CAAAgB,KAAK;IACb,gBAAc,EAAC;;IAlBvB,WAAAC,QAAA,CAoBQ;MAAA,OAOe,CAPfN,YAAA,CAOeO,uBAAA;QAPDC,KAAK,EAAC,KAAK;QAACC,IAAI,EAAC;;QApBvC,WAAAH,QAAA,CAqBU;UAAA,OAKE,CALFN,YAAA,CAKEU,mBAAA;YA1BZC,UAAA,EAsBqBtB,MAAA,CAAAe,SAAS,CAACQ,QAAQ;YAtBvC,uBAAAf,MAAA,QAAAA,MAAA,gBAAAC,MAAA;cAAA,OAsBqBT,MAAA,CAAAe,SAAS,CAACQ,QAAQ,GAAAd,MAAA;YAAA;YAC3Be,WAAW,EAAC,QAAQ;YACpB,aAAW,EAAC,cAAc;YAC1BC,SAAS,EAAT;;;QAzBZC,CAAA;UA6BQf,YAAA,CASeO,uBAAA;QATDC,KAAK,EAAC,IAAI;QAACC,IAAI,EAAC;;QA7BtC,WAAAH,QAAA,CA8BU;UAAA,OAOE,CAPFN,YAAA,CAOEU,mBAAA;YArCZC,UAAA,EA+BqBtB,MAAA,CAAAe,SAAS,CAACY,QAAQ;YA/BvC,uBAAAnB,MAAA,QAAAA,MAAA,gBAAAC,MAAA;cAAA,OA+BqBT,MAAA,CAAAe,SAAS,CAACY,QAAQ,GAAAlB,MAAA;YAAA;YAC3BH,IAAI,EAAC,UAAU;YACfkB,WAAW,EAAC,OAAO;YACnB,aAAW,EAAC,cAAc;YAC1B,eAAa,EAAb,EAAa;YACZI,OAAK,EApClBC,SAAA,CAoC0B7B,MAAA,CAAA8B,WAAW;;;QApCrCJ,CAAA;UAwCQf,YAAA,CASeO,uBAAA;QAjDvB,WAAAD,QAAA,CAyCU;UAAA,OAOY,CAPZN,YAAA,CAOYoB,oBAAA;YANVzB,IAAI,EAAC,SAAS;YACd,SAAM,YAAY;YACjB0B,OAAO,EAAEhC,MAAA,CAAAgC,OAAO;YAChBC,OAAK,EAAEjC,MAAA,CAAA8B;;YA7CpB,WAAAb,QAAA,CA8CW;cAAA,OAEDT,MAAA,QAAAA,MAAA,OAhDV0B,gBAAA,CA8CW,MAED,E;;YAhDVR,CAAA;;;QAAAA,CAAA;;;IAAAA,CAAA;mEAoDM5B,mBAAA,CAEI;IAFD,SAAM;EAAmB,GAAC,4BAE7B,qB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}