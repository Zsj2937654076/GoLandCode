{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"student-detail-container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"page-header\"\n};\nvar _hoisted_3 = {\n  \"class\": \"action-buttons\"\n};\nvar _hoisted_4 = {\n  \"class\": \"action-buttons mt-20\"\n};\nvar _hoisted_5 = {\n  \"class\": \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\");\n  var _component_el_descriptions = _resolveComponent(\"el-descriptions\");\n  var _component_el_empty = _resolveComponent(\"el-empty\");\n  var _component_el_card = _resolveComponent(\"el-card\");\n  var _component_el_dialog = _resolveComponent(\"el-dialog\");\n  var _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"h1\", {\n    \"class\": \"page-title\"\n  }, \"Student Details\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.$router.push('/students');\n    })\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[4] || (_cache[4] = [_createTextVNode(\" Back to Students \")]);\n    }),\n    _: 1 /* STABLE */\n  }), $setup.student ? (_openBlock(), _createBlock(_component_el_button, {\n    key: 0,\n    type: \"primary\",\n    onClick: _cache[1] || (_cache[1] = function ($event) {\n      return _ctx.$router.push(\"/students/\".concat($props.id, \"/edit\"));\n    })\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[5] || (_cache[5] = [_createTextVNode(\" Edit Student \")]);\n    }),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)])]), _withDirectives((_openBlock(), _createBlock(_component_el_card, null, {\n    \"default\": _withCtx(function () {\n      return [$setup.student ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 0\n      }, [_createVNode(_component_el_descriptions, {\n        column: 2,\n        border: \"\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_descriptions_item, {\n            label: \"Student ID\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString($setup.student.student_id), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_descriptions_item, {\n            label: \"Name\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString($setup.student.name), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_descriptions_item, {\n            label: \"Class\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString($setup.student.class_name), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_descriptions_item, {\n            label: \"Email\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString($setup.student.email || 'N/A'), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_descriptions_item, {\n            label: \"Phone\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString($setup.student.phone || 'N/A'), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_descriptions_item, {\n            label: \"Created At\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString($setup.formatDate($setup.student.created_at)), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_descriptions_item, {\n            label: \"Address\",\n            span: 2\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString($setup.student.address || 'N/A'), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_button, {\n        type: \"danger\",\n        onClick: $setup.confirmDelete\n      }, {\n        \"default\": _withCtx(function () {\n          return _cache[7] || (_cache[7] = [_createTextVNode(\" Delete Student \")]);\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])])], 64 /* STABLE_FRAGMENT */)) : !$setup.loading ? (_openBlock(), _createBlock(_component_el_empty, {\n        key: 1,\n        description: \"Student not found\"\n      })) : _createCommentVNode(\"v-if\", true)];\n    }),\n    _: 1 /* STABLE */\n  })), [[_directive_loading, $setup.loading]]), _createCommentVNode(\" Delete Confirmation Dialog \"), _createVNode(_component_el_dialog, {\n    modelValue: $setup.deleteDialog.visible,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $setup.deleteDialog.visible = $event;\n    }),\n    title: \"Confirm Delete\",\n    width: \"30%\"\n  }, {\n    footer: _withCtx(function () {\n      return [_createElementVNode(\"span\", _hoisted_5, [_createVNode(_component_el_button, {\n        onClick: _cache[2] || (_cache[2] = function ($event) {\n          return $setup.deleteDialog.visible = false;\n        })\n      }, {\n        \"default\": _withCtx(function () {\n          return _cache[8] || (_cache[8] = [_createTextVNode(\"Cancel\")]);\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_button, {\n        type: \"danger\",\n        onClick: $setup.deleteStudent,\n        loading: $setup.deleteDialog.loading\n      }, {\n        \"default\": _withCtx(function () {\n          return _cache[9] || (_cache[9] = [_createTextVNode(\" Delete \")]);\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\", \"loading\"])])];\n    }),\n    \"default\": _withCtx(function () {\n      return [_cache[10] || (_cache[10] = _createElementVNode(\"span\", null, \"Are you sure you want to delete this student?\", -1 /* HOISTED */))];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_button","onClick","_cache","$event","_ctx","$router","push","_withCtx","_createTextVNode","_","$setup","student","_createBlock","key","type","concat","$props","id","_createCommentVNode","_component_el_card","_Fragment","_component_el_descriptions","column","border","_component_el_descriptions_item","label","_toDisplayString","student_id","name","class_name","email","phone","formatDate","created_at","span","address","_hoisted_4","confirmDelete","loading","_component_el_empty","description","_component_el_dialog","modelValue","deleteDialog","visible","title","width","footer","_hoisted_5","deleteStudent"],"sources":["E:\\GoLand20240404\\Project\\student_management\\frontend\\src\\views\\students\\StudentDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"student-detail-container\">\r\n    <div class=\"page-header\">\r\n      <h1 class=\"page-title\">Student Details</h1>\r\n      <div class=\"action-buttons\">\r\n        <el-button @click=\"$router.push('/students')\">\r\n          Back to Students\r\n        </el-button>\r\n        <el-button \r\n          type=\"primary\" \r\n          @click=\"$router.push(`/students/${id}/edit`)\"\r\n          v-if=\"student\"\r\n        >\r\n          Edit Student\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    \r\n    <el-card v-loading=\"loading\">\r\n      <template v-if=\"student\">\r\n        <el-descriptions :column=\"2\" border>\r\n          <el-descriptions-item label=\"Student ID\">\r\n            {{ student.student_id }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Name\">\r\n            {{ student.name }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Class\">\r\n            {{ student.class_name }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Email\">\r\n            {{ student.email || 'N/A' }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Phone\">\r\n            {{ student.phone || 'N/A' }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Created At\">\r\n            {{ formatDate(student.created_at) }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Address\" :span=\"2\">\r\n            {{ student.address || 'N/A' }}\r\n          </el-descriptions-item>\r\n        </el-descriptions>\r\n        \r\n        <div class=\"action-buttons mt-20\">\r\n          <el-button \r\n            type=\"danger\" \r\n            @click=\"confirmDelete\"\r\n          >\r\n            Delete Student\r\n          </el-button>\r\n        </div>\r\n      </template>\r\n      \r\n      <el-empty \r\n        v-else-if=\"!loading\" \r\n        description=\"Student not found\"\r\n      />\r\n    </el-card>\r\n    \r\n    <!-- Delete Confirmation Dialog -->\r\n    <el-dialog\r\n      v-model=\"deleteDialog.visible\"\r\n      title=\"Confirm Delete\"\r\n      width=\"30%\"\r\n    >\r\n      <span>Are you sure you want to delete this student?</span>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"deleteDialog.visible = false\">Cancel</el-button>\r\n          <el-button type=\"danger\" @click=\"deleteStudent\" :loading=\"deleteDialog.loading\">\r\n            Delete\r\n          </el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n  name: 'StudentDetail',\r\n  props: {\r\n    id: {\r\n      type: [Number, String],\r\n      required: true\r\n    }\r\n  },\r\n  setup(props) {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const loading = ref(false)\r\n    \r\n    // Delete dialog state\r\n    const deleteDialog = reactive({\r\n      visible: false,\r\n      loading: false\r\n    })\r\n    \r\n    // Get student from store\r\n    const student = computed(() => store.getters['students/currentStudent'])\r\n    \r\n    // Format date\r\n    const formatDate = (dateString) => {\r\n      if (!dateString) return 'N/A'\r\n      const date = new Date(dateString)\r\n      return date.toLocaleString()\r\n    }\r\n    \r\n    // Fetch student data\r\n    const fetchStudentData = async () => {\r\n      loading.value = true\r\n      try {\r\n        await store.dispatch('students/fetchStudent', Number(props.id))\r\n      } catch (error) {\r\n        console.error('Error fetching student:', error)\r\n        ElMessage.error('Failed to load student data')\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n    \r\n    // Delete student\r\n    const confirmDelete = () => {\r\n      deleteDialog.visible = true\r\n    }\r\n    \r\n    const deleteStudent = async () => {\r\n      deleteDialog.loading = true\r\n      try {\r\n        await store.dispatch('students/deleteStudent', Number(props.id))\r\n        ElMessage.success('Student deleted successfully')\r\n        router.push('/students')\r\n      } catch (error) {\r\n        console.error('Error deleting student:', error)\r\n        ElMessage.error('Failed to delete student')\r\n      } finally {\r\n        deleteDialog.loading = false\r\n        deleteDialog.visible = false\r\n      }\r\n    }\r\n    \r\n    // Fetch data on component mount\r\n    onMounted(fetchStudentData)\r\n    \r\n    return {\r\n      student,\r\n      loading,\r\n      deleteDialog,\r\n      formatDate,\r\n      confirmDelete,\r\n      deleteStudent\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}