{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"student-detail-container\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_4 = {\n  class: \"action-buttons mt-20\"\n};\nconst _hoisted_5 = {\n  class: \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\");\n  const _component_el_descriptions = _resolveComponent(\"el-descriptions\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"h1\", {\n    class: \"page-title\"\n  }, \"Student Details\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push('/students'))\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\" Back to Students \")])),\n    _: 1 /* STABLE */\n  }), $setup.student ? (_openBlock(), _createBlock(_component_el_button, {\n    key: 0,\n    type: \"primary\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.$router.push(`/students/${$props.id}/edit`))\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\" Edit Student \")])),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)])]), _withDirectives((_openBlock(), _createBlock(_component_el_card, null, {\n    default: _withCtx(() => [$setup.student ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 0\n    }, [_createVNode(_component_el_descriptions, {\n      column: 2,\n      border: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_descriptions_item, {\n        label: \"Student ID\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.student.student_id), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"Name\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.student.name), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"Class\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.student.class_name), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"Email\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.student.email || 'N/A'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"Phone\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.student.phone || 'N/A'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"Created At\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.formatDate($setup.student.created_at)), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"Address\",\n        span: 2\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.student.address || 'N/A'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_button, {\n      type: \"danger\",\n      onClick: $setup.confirmDelete\n    }, {\n      default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\" Delete Student \")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])])], 64 /* STABLE_FRAGMENT */)) : !$setup.loading ? (_openBlock(), _createBlock(_component_el_empty, {\n      key: 1,\n      description: \"Student not found\"\n    })) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })), [[_directive_loading, $setup.loading]]), _createCommentVNode(\" Delete Confirmation Dialog \"), _createVNode(_component_el_dialog, {\n    modelValue: $setup.deleteDialog.visible,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.deleteDialog.visible = $event),\n    title: \"Confirm Delete\",\n    width: \"30%\"\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_5, [_createVNode(_component_el_button, {\n      onClick: _cache[2] || (_cache[2] = $event => $setup.deleteDialog.visible = false)\n    }, {\n      default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"Cancel\")])),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_button, {\n      type: \"danger\",\n      onClick: $setup.deleteStudent,\n      loading: $setup.deleteDialog.loading\n    }, {\n      default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\" Delete \")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\", \"loading\"])])]),\n    default: _withCtx(() => [_cache[10] || (_cache[10] = _createElementVNode(\"span\", null, \"Are you sure you want to delete this student?\", -1 /* HOISTED */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_button","onClick","_cache","$event","_ctx","$router","push","default","_withCtx","_createTextVNode","_","$setup","student","_createBlock","key","type","$props","id","_createCommentVNode","_component_el_card","_Fragment","_component_el_descriptions","column","border","_component_el_descriptions_item","label","_toDisplayString","student_id","name","class_name","email","phone","formatDate","created_at","span","address","_hoisted_4","confirmDelete","loading","_component_el_empty","description","_component_el_dialog","modelValue","deleteDialog","visible","title","width","footer","_hoisted_5","deleteStudent"],"sources":["E:\\GoLand20240404\\Project\\student_management\\frontend\\src\\views\\students\\StudentDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"student-detail-container\">\r\n    <div class=\"page-header\">\r\n      <h1 class=\"page-title\">Student Details</h1>\r\n      <div class=\"action-buttons\">\r\n        <el-button @click=\"$router.push('/students')\">\r\n          Back to Students\r\n        </el-button>\r\n        <el-button \r\n          type=\"primary\" \r\n          @click=\"$router.push(`/students/${id}/edit`)\"\r\n          v-if=\"student\"\r\n        >\r\n          Edit Student\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    \r\n    <el-card v-loading=\"loading\">\r\n      <template v-if=\"student\">\r\n        <el-descriptions :column=\"2\" border>\r\n          <el-descriptions-item label=\"Student ID\">\r\n            {{ student.student_id }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Name\">\r\n            {{ student.name }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Class\">\r\n            {{ student.class_name }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Email\">\r\n            {{ student.email || 'N/A' }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Phone\">\r\n            {{ student.phone || 'N/A' }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Created At\">\r\n            {{ formatDate(student.created_at) }}\r\n          </el-descriptions-item>\r\n          \r\n          <el-descriptions-item label=\"Address\" :span=\"2\">\r\n            {{ student.address || 'N/A' }}\r\n          </el-descriptions-item>\r\n        </el-descriptions>\r\n        \r\n        <div class=\"action-buttons mt-20\">\r\n          <el-button \r\n            type=\"danger\" \r\n            @click=\"confirmDelete\"\r\n          >\r\n            Delete Student\r\n          </el-button>\r\n        </div>\r\n      </template>\r\n      \r\n      <el-empty \r\n        v-else-if=\"!loading\" \r\n        description=\"Student not found\"\r\n      />\r\n    </el-card>\r\n    \r\n    <!-- Delete Confirmation Dialog -->\r\n    <el-dialog\r\n      v-model=\"deleteDialog.visible\"\r\n      title=\"Confirm Delete\"\r\n      width=\"30%\"\r\n    >\r\n      <span>Are you sure you want to delete this student?</span>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"deleteDialog.visible = false\">Cancel</el-button>\r\n          <el-button type=\"danger\" @click=\"deleteStudent\" :loading=\"deleteDialog.loading\">\r\n            Delete\r\n          </el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n  name: 'StudentDetail',\r\n  props: {\r\n    id: {\r\n      type: [Number, String],\r\n      required: true\r\n    }\r\n  },\r\n  setup(props) {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const loading = ref(false)\r\n    \r\n    // Delete dialog state\r\n    const deleteDialog = reactive({\r\n      visible: false,\r\n      loading: false\r\n    })\r\n    \r\n    // Get student from store\r\n    const student = computed(() => store.getters['students/currentStudent'])\r\n    \r\n    // Format date\r\n    const formatDate = (dateString) => {\r\n      if (!dateString) return 'N/A'\r\n      const date = new Date(dateString)\r\n      return date.toLocaleString()\r\n    }\r\n    \r\n    // Fetch student data\r\n    const fetchStudentData = async () => {\r\n      loading.value = true\r\n      try {\r\n        await store.dispatch('students/fetchStudent', Number(props.id))\r\n      } catch (error) {\r\n        console.error('Error fetching student:', error)\r\n        ElMessage.error('Failed to load student data')\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n    \r\n    // Delete student\r\n    const confirmDelete = () => {\r\n      deleteDialog.visible = true\r\n    }\r\n    \r\n    const deleteStudent = async () => {\r\n      deleteDialog.loading = true\r\n      try {\r\n        await store.dispatch('students/deleteStudent', Number(props.id))\r\n        ElMessage.success('Student deleted successfully')\r\n        router.push('/students')\r\n      } catch (error) {\r\n        console.error('Error deleting student:', error)\r\n        ElMessage.error('Failed to delete student')\r\n      } finally {\r\n        deleteDialog.loading = false\r\n        deleteDialog.visible = false\r\n      }\r\n    }\r\n    \r\n    // Fetch data on component mount\r\n    onMounted(fetchStudentData)\r\n    \r\n    return {\r\n      student,\r\n      loading,\r\n      deleteDialog,\r\n      formatDate,\r\n      confirmDelete,\r\n      deleteStudent\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}