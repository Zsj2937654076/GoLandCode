{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_2 = {\n  class: \"card-content\"\n};\nconst _hoisted_3 = {\n  class: \"stat-value\"\n};\nconst _hoisted_4 = {\n  class: \"card-content\"\n};\nconst _hoisted_5 = {\n  class: \"stat-value\"\n};\nconst _hoisted_6 = {\n  class: \"card-content\"\n};\nconst _hoisted_7 = {\n  class: \"user-info\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[16] || (_cache[16] = _createElementVNode(\"h1\", {\n    class: \"page-title\"\n  }, \"Dashboard\", -1 /* HOISTED */)), _createVNode(_component_el_row, {\n    gutter: 20\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" Students Card \"), _createVNode(_component_el_col, {\n      xs: 24,\n      sm: 12,\n      md: 8\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"dashboard-card\"\n      }, {\n        header: _withCtx(() => _cache[3] || (_cache[3] = [_createElementVNode(\"div\", {\n          class: \"card-header\"\n        }, [_createElementVNode(\"h2\", null, \"Students\")], -1 /* HOISTED */)])),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, _toDisplayString($setup.studentCount), 1 /* TEXT */), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n          class: \"stat-label\"\n        }, \"Total Students\", -1 /* HOISTED */)), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push('/students'))\n        }, {\n          default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\" View Students \")])),\n          _: 1 /* STABLE */\n        })])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" Classes Card \"), _createVNode(_component_el_col, {\n      xs: 24,\n      sm: 12,\n      md: 8\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"dashboard-card\"\n      }, {\n        header: _withCtx(() => _cache[6] || (_cache[6] = [_createElementVNode(\"div\", {\n          class: \"card-header\"\n        }, [_createElementVNode(\"h2\", null, \"Classes\")], -1 /* HOISTED */)])),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.classCount), 1 /* TEXT */), _cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n          class: \"stat-label\"\n        }, \"Total Classes\", -1 /* HOISTED */)), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: _cache[1] || (_cache[1] = $event => _ctx.$router.push('/classes'))\n        }, {\n          default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\" View Classes \")])),\n          _: 1 /* STABLE */\n        })])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" User Card \"), _createVNode(_component_el_col, {\n      xs: 24,\n      sm: 12,\n      md: 8\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"dashboard-card\"\n      }, {\n        header: _withCtx(() => _cache[9] || (_cache[9] = [_createElementVNode(\"div\", {\n          class: \"card-header\"\n        }, [_createElementVNode(\"h2\", null, \"User Profile\")], -1 /* HOISTED */)])),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"strong\", null, \"Username:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.user?.username), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"strong\", null, \"Email:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.user?.email), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"strong\", null, \"Role:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.user?.role), 1 /* TEXT */)])]), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: _cache[2] || (_cache[2] = $event => _ctx.$router.push('/profile'))\n        }, {\n          default: _withCtx(() => _cache[13] || (_cache[13] = [_createTextVNode(\" View Profile \")])),\n          _: 1 /* STABLE */\n        })])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" Recent Students \"), _createVNode(_component_el_card, {\n    class: \"mt-20\"\n  }, {\n    header: _withCtx(() => _cache[14] || (_cache[14] = [_createElementVNode(\"div\", {\n      class: \"card-header\"\n    }, [_createElementVNode(\"h2\", null, \"Recent Students\")], -1 /* HOISTED */)])),\n    default: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_table, {\n      data: $setup.recentStudents,\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"student_id\",\n        label: \"Student ID\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"name\",\n        label: \"Name\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"class_name\",\n        label: \"Class\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"email\",\n        label: \"Email\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"Actions\",\n        width: \"150\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          size: \"small\",\n          type: \"primary\",\n          onClick: $event => _ctx.$router.push(`/students/${scope.row.id}`)\n        }, {\n          default: _withCtx(() => _cache[15] || (_cache[15] = [_createTextVNode(\" View \")])),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_el_row","gutter","default","_withCtx","_createCommentVNode","_component_el_col","xs","sm","md","_component_el_card","header","_cache","_hoisted_2","_hoisted_3","_toDisplayString","$setup","studentCount","_component_el_button","type","onClick","$event","_ctx","$router","push","_createTextVNode","_","_hoisted_4","_hoisted_5","classCount","_hoisted_6","_hoisted_7","user","username","email","role","_createBlock","_component_el_table","data","recentStudents","style","_component_el_table_column","prop","label","width","scope","size","row","id","loading"],"sources":["E:\\GoLand20240404\\Project\\student_management\\frontend\\src\\views\\Dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <h1 class=\"page-title\">Dashboard</h1>\r\n    \r\n    <el-row :gutter=\"20\">\r\n      <!-- Students Card -->\r\n      <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\r\n        <el-card class=\"dashboard-card\">\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <h2>Students</h2>\r\n            </div>\r\n          </template>\r\n          <div class=\"card-content\">\r\n            <div class=\"stat-value\">{{ studentCount }}</div>\r\n            <div class=\"stat-label\">Total Students</div>\r\n            <el-button type=\"primary\" @click=\"$router.push('/students')\">\r\n              View Students\r\n            </el-button>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      \r\n      <!-- Classes Card -->\r\n      <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\r\n        <el-card class=\"dashboard-card\">\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <h2>Classes</h2>\r\n            </div>\r\n          </template>\r\n          <div class=\"card-content\">\r\n            <div class=\"stat-value\">{{ classCount }}</div>\r\n            <div class=\"stat-label\">Total Classes</div>\r\n            <el-button type=\"primary\" @click=\"$router.push('/classes')\">\r\n              View Classes\r\n            </el-button>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      \r\n      <!-- User Card -->\r\n      <el-col :xs=\"24\" :sm=\"12\" :md=\"8\">\r\n        <el-card class=\"dashboard-card\">\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <h2>User Profile</h2>\r\n            </div>\r\n          </template>\r\n          <div class=\"card-content\">\r\n            <div class=\"user-info\">\r\n              <p><strong>Username:</strong> {{ user?.username }}</p>\r\n              <p><strong>Email:</strong> {{ user?.email }}</p>\r\n              <p><strong>Role:</strong> {{ user?.role }}</p>\r\n            </div>\r\n            <el-button type=\"primary\" @click=\"$router.push('/profile')\">\r\n              View Profile\r\n            </el-button>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    \r\n    <!-- Recent Students -->\r\n    <el-card class=\"mt-20\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <h2>Recent Students</h2>\r\n        </div>\r\n      </template>\r\n      <el-table :data=\"recentStudents\" v-loading=\"loading\" style=\"width: 100%\">\r\n        <el-table-column prop=\"student_id\" label=\"Student ID\" width=\"120\" />\r\n        <el-table-column prop=\"name\" label=\"Name\" />\r\n        <el-table-column prop=\"class_name\" label=\"Class\" />\r\n        <el-table-column prop=\"email\" label=\"Email\" />\r\n        <el-table-column label=\"Actions\" width=\"150\">\r\n          <template #default=\"scope\">\r\n            <el-button \r\n              size=\"small\" \r\n              type=\"primary\" \r\n              @click=\"$router.push(`/students/${scope.row.id}`)\"\r\n            >\r\n              View\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  setup() {\r\n    const store = useStore()\r\n    const loading = ref(false)\r\n    const recentStudents = ref([])\r\n    \r\n    // Get user from store\r\n    const user = computed(() => store.getters['auth/user'])\r\n    \r\n    // Computed properties for statistics\r\n    const studentCount = ref(0)\r\n    const classCount = ref(0)\r\n    \r\n    // Fetch dashboard data\r\n    const fetchDashboardData = async () => {\r\n      loading.value = true\r\n      try {\r\n        // Fetch classes\r\n        await store.dispatch('classes/fetchClasses')\r\n        classCount.value = store.getters['classes/allClasses'].length\r\n        \r\n        // Fetch recent students (first page with small page size)\r\n        const params = {\r\n          page: 1,\r\n          page_size: 5\r\n        }\r\n        const response = await store.dispatch('students/fetchStudents')\r\n        recentStudents.value = store.getters['students/allStudents']\r\n        studentCount.value = store.getters['students/pagination'].total\r\n      } catch (error) {\r\n        console.error('Error fetching dashboard data:', error)\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n    \r\n    // Fetch data when component is mounted\r\n    onMounted(fetchDashboardData)\r\n    \r\n    return {\r\n      user,\r\n      loading,\r\n      studentCount,\r\n      classCount,\r\n      recentStudents\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-card {\r\n  height: 100%;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.card-header h2 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n}\r\n\r\n.card-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 20px 0;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 16px;\r\n  color: #606266;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.user-info {\r\n  width: 100%;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.user-info p {\r\n  margin: 5px 0;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}